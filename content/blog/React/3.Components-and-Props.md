---
title: 3.Components and Props
date: 2019-05-19 21:05:59
category: React
---

Components는 element를 만드는 Javascript 함수이다.  
임의의 Props를 argument로 받아 React element를 리턴한다.  

compoents를 사용하면 element를 개별적, 독립적으로 만들 수 있다.  
이는 element의 재사용성을 높여준다.  

##Function and Class components

###Function component
component는 아래처럼 function으로 만들 수 있다.

```js
function Welcome(props) {
  return <h1>Hello, David</h1>;
}
```

react component가 되려면 아래 2가지 기준을 만족해야 한다.  

- 하나의 props(property의 약자로 data object)를 argument로 받는다.
- react element를 return 한다.

위에 function Welcome은 2가지 조건을 만족하기 때문에 component이다.  

###Class component
또한 ES6의 class keyword를 사용해서 component를 만들 수도 있다.  

```js
class Welcome extends React.Component {
  render() {
    return <h1>Hello, {this.props.name}</h1>;
  }
}
```

> function과 class 두가지 방법은  
동일한 react component를 만들 수 있다.

state 관리 기능이 두가지 방법 사이 **유일한 차이점**이었다.  
(과거에는 _class만 state 관리 가능_)  
하지만 react hooks가 등장하면서  
**functional component**에서도 _state 관리가 가능_ 해졌다.  

##Rendering a component
###element 역할의 변화
이전에 react element는 단순히 HTML tag로 만들어졌다.

```js
const element = <div />;
```

그러나 component를 활용해서 아래처럼 element를 만들게 되었다.

```js
const element = <Welcome name="david" />;
```

###component rendering 과정
react가 이러한 component를 실행할 때,  
JSX attribute(ex) name)을  
**single object** ({name: "david"})의 형태로  
component에게 전달한다.  
(이 **object**가 바로 **props**이다.)  

```js
function Welcome(props) {
  return <h1>Hello, {props.name}</h1>;
}

const element = <Welcome name="Sara" />;
ReactDOM.render(
  element,
  document.getElementById('root')
);
```

위 코드를 실행하면 아래의 과정을 거친다.  

1. ReactDOM.render( ~~~ )를 실행한다.
2. render()안에 element인자인 Welcome comoponent를 실행한다.
    (이때 props인자는 {name: "david"} object)
3. Welcome component는 <h1>Hello, david</h1>라는 element를 return한다.
4. ReactDOM은 element의 달라진 부분(name의 value)이 일치하도록 DOM을 업데이트한다.

> component 이름은 대문자로 시작하자

##component 만들기
component는 다른 component를 조합하여 만들 수 있다.  
따라서 component는 abstraction 할 수 있다.  
(부모 component에게 소속된 자식 component를 만들 수 있다.)  

```js
function Welcome(props) {
  return <h1>Hello, {props.name}</h1>;
}

function App() {
  return (
    <div>
      <Welcome name="David" />
      <Welcome name="Paul" />
    </div>
  );
}

ReactDOM.render(
  <App />,
  document.getElementById('root')
);
```

위 코드에서 처럼 App component를 만들 때  
그 안에서 많은 Welcome component들을 render할 수 있다.

> 보통 react로 앱을 만들면 App component가 하나있다.
하지만 기존 앱을 react로 바꿀때는 더 작은 component부터 시작한다.

##component 쪼개기
component는 잘개 쪼갤수록 좋다.  
가장 작은 UI 요소를 return할 때까지 쪼개자.  
(이때 UI 요소는 React element이며  
이 객체는 OOP에서 super class와 비슷하다.)

잘개 쪼갠 component는 props를 받는데,
이 props의 이름은 해당 component만을 고려하여 짓는다.  
(전체에서 component의 역할을 고려하지 말고 ❌)